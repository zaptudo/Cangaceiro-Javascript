<html>

<head>
    <meta charset="UTF-8">
    <title>Aprendendo IndexedDB</title>
</head>

<body>
    <script>

        function adiciona() {

            const negociacao = new Negociacao(new Date(), 1, 100);

            DaoFactory.getNegociacaoDao()
                .then(dao => dao.adiciona(negociacao))
                .then(() => console.log('Negociação salva com sucesso!'))
                .catch(err => console.log(err));
        }

        function listaTodos() {

            const negociacoes = [];

            DaoFactory.getNegociacaoDao()
                .then(dao => dao.listarTodos())
                .then((negociacoes) => console.log(negociacoes))
                .catch(err => console.log(err));
        }

    </script>
<script src="app/domain/negociacao/Negociacao.js"></script>
<script src="app/util/ConnectionFactory.js"></script>
<script src="app/domain/negociacao/NegociacaoDao.js"></script>
<script src="app/util/DaoFActory.js"></script>
</body>

</html>